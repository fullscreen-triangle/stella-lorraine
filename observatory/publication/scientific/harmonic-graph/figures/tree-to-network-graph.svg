<svg width="1000" height="650" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <style>
            .title { font: bold 20px sans-serif; }
            .label { font: 14px sans-serif; }
            .small { font: 12px sans-serif; }
            .tiny { font: 10px sans-serif; }
        </style>

        <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <polygon points="0 0, 10 3, 0 6" fill="#2563eb" />
        </marker>
    </defs>

    <!-- Main title -->
    <text x="500" y="30" text-anchor="middle" class="title" font-size="26">
        Exponential Tree → Polynomial Network Graph
    </text>

    <!-- LEFT SIDE: Exponential Tree -->
    <g id="tree">
        <text x="220" y="70" text-anchor="middle" class="title">A. Exponential Tree</text>
        <text x="220" y="95" text-anchor="middle" class="small">3^k states at depth k</text>

        <!-- Root node -->
        <circle cx="220" cy="140" r="18" fill="#dbeafe" stroke="#2563eb" stroke-width="2" />
        <text x="220" y="145" text-anchor="middle" class="small">ω₀</text>

        <!-- Level 1: 3 nodes -->
        <circle cx="140" cy="210" r="16" fill="#d1fae5" stroke="#10b981" stroke-width="2" />
        <text x="140" y="215" text-anchor="middle" class="tiny">ω₁</text>

        <circle cx="220" cy="210" r="16" fill="#d1fae5" stroke="#10b981" stroke-width="2" />
        <text x="220" y="215" text-anchor="middle" class="tiny">ω₂</text>

        <circle cx="300" cy="210" r="16" fill="#d1fae5" stroke="#10b981" stroke-width="2" />
        <text x="300" y="215" text-anchor="middle" class="tiny">ω₃</text>

        <!-- Connections level 0 to 1 -->
        <line x1="210" y1="155" x2="150" y2="195" stroke="#666" stroke-width="1.5" />
        <line x1="220" y1="158" x2="220" y2="194" stroke="#666" stroke-width="1.5" />
        <line x1="230" y1="155" x2="290" y2="195" stroke="#666" stroke-width="1.5" />

        <!-- Level 2: 9 nodes (simplified representation) -->
        <!-- From first branch -->
        <circle cx="80" cy="280" r="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" />
        <circle cx="110" cy="280" r="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" />
        <circle cx="140" cy="280" r="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" />
        <line x1="135" y1="225" x2="85" y2="270" stroke="#666" stroke-width="1" />
        <line x1="140" y1="226" x2="110" y2="270" stroke="#666" stroke-width="1" />
        <line x1="145" y1="225" x2="140" y2="270" stroke="#666" stroke-width="1" />

        <!-- From middle branch -->
        <circle cx="190" cy="280" r="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" />
        <circle cx="220" cy="280" r="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" />
        <circle cx="250" cy="280" r="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" />
        <line x1="215" y1="225" x2="195" y2="270" stroke="#666" stroke-width="1" />
        <line x1="220" y1="226" x2="220" y2="270" stroke="#666" stroke-width="1" />
        <line x1="225" y1="225" x2="245" y2="270" stroke="#666" stroke-width="1" />

        <!-- From right branch -->
        <circle cx="280" cy="280" r="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" />
        <circle cx="310" cy="280" r="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" />
        <circle cx="340" cy="280" r="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" />
        <line x1="295" y1="225" x2="285" y2="270" stroke="#666" stroke-width="1" />
        <line x1="300" y1="226" x2="310" y2="270" stroke="#666" stroke-width="1" />
        <line x1="305" y1="225" x2="335" y2="270" stroke="#666" stroke-width="1" />

        <!-- Complexity annotations -->
        <text x="220" y="330" text-anchor="middle" class="small">Depth k=10: 3¹⁰ ≈ 6×10⁴ states</text>
        <text x="220" y="350" text-anchor="middle" class="small">Depth k=30: 3³⁰ ≈ 2×10¹⁴ states</text>

        <rect x="120" y="365" width="200" height="35" fill="#fee2e2" stroke="#ef4444"
            stroke-width="2" rx="5" />
        <text x="220" y="385" text-anchor="middle" class="small" font-weight="bold">
            Exponential: O(3^k)
        </text>
    </g>

    <!-- TRANSFORMATION ARROW -->
    <g id="transform">
        <line x1="380" y1="250" x2="560" y2="250" stroke="#2563eb" stroke-width="5"
            marker-end="url(#arrow-blue)" />
        <text x="470" y="235" text-anchor="middle" class="small" fill="#2563eb" font-weight="bold">
            Equivalence Classes
        </text>
        <text x="470" y="270" text-anchor="middle" class="tiny" fill="#2563eb">
            ~10⁶ to 10¹² configurations
        </text>
        <text x="470" y="285" text-anchor="middle" class="tiny" fill="#2563eb">
            per observable frequency
        </text>
    </g>

    <!-- RIGHT SIDE: Network Graph -->
    <g id="graph">
        <text x="750" y="70" text-anchor="middle" class="title">B. Network Graph</text>
        <text x="750" y="95" text-anchor="middle" class="small">Equivalence class structure</text>

        <!-- Central hub -->
        <circle cx="750" cy="160" r="25" fill="#dbeafe" stroke="#2563eb" stroke-width="3" />
        <text x="750" y="165" text-anchor="middle" class="label" font-weight="bold">[ω₀]</text>

        <!-- Equivalence class nodes -->
        <circle cx="650" cy="240" r="20" fill="#d1fae5" stroke="#10b981" stroke-width="2.5" />
        <text x="650" y="245" text-anchor="middle" class="small">[ω₁]</text>

        <circle cx="750" cy="260" r="20" fill="#d1fae5" stroke="#10b981" stroke-width="2.5" />
        <text x="750" y="265" text-anchor="middle" class="small">[ω₂]</text>

        <circle cx="850" cy="240" r="20" fill="#d1fae5" stroke="#10b981" stroke-width="2.5" />
        <text x="850" y="245" text-anchor="middle" class="small">[ω₃]</text>

        <!-- Hub connections -->
        <line x1="735" y1="180" x2="660" y2="225" stroke="#333" stroke-width="2.5" />
        <line x1="750" y1="185" x2="750" y2="240" stroke="#333" stroke-width="2.5" />
        <line x1="765" y1="180" x2="840" y2="225" stroke="#333" stroke-width="2.5" />

        <!-- Cross connections (dashed) -->
        <line x1="668" y1="245" x2="732" y2="260" stroke="#666" stroke-width="2"
            stroke-dasharray="5,3" />
        <line x1="770" y1="260" x2="832" y2="245" stroke="#666" stroke-width="2"
            stroke-dasharray="5,3" />
        <path d="M 665 255 Q 750 300 835 255" stroke="#666" stroke-width="2" stroke-dasharray="5,3"
            fill="none" />

        <!-- Representative states around each equivalence class -->
        <!-- Around [ω₁] -->
        <circle cx="620" cy="220" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="630" cy="200" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="650" cy="195" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="670" cy="200" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="680" cy="220" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="680" cy="260" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="670" cy="280" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="630" cy="280" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />

        <!-- Around [ω₂] -->
        <circle cx="720" cy="250" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="730" cy="235" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="750" cy="230" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="770" cy="235" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="780" cy="250" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="770" cy="285" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />

        <!-- Around [ω₃] -->
        <circle cx="820" cy="220" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="830" cy="200" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="850" cy="195" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="870" cy="200" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="880" cy="220" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="880" cy="260" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="870" cy="280" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />
        <circle cx="830" cy="280" r="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" />

        <!-- Complexity annotations -->
        <text x="750" y="330" text-anchor="middle" class="small">αK³ polynomial states</text>
        <text x="750" y="350" text-anchor="middle" class="small">K=30: α×30³ ≈ 9×10³ states</text>

        <rect x="650" y="365" width="200" height="35" fill="#d1fae5" stroke="#10b981"
            stroke-width="2" rx="5" />
        <text x="750" y="385" text-anchor="middle" class="small" font-weight="bold">
            Polynomial: O(K³)
        </text>
    </g>

    <!-- REDUCTION FACTOR -->
    <rect x="350" y="560" width="300" height="60" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"
        rx="10" />
    <text x="500" y="590" text-anchor="middle" class="title" font-size="32" fill="#f59e0b"
        font-weight="bold">
        10¹⁰× Reduction
    </text>
    <text x="500" y="610" text-anchor="middle" class="small">
        Exponential → Polynomial complexity
    </text>
</svg>
